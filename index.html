<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paie_B3_M1_002_La démarche de veille — Mode sombre premium</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Palette sombre bleu premium */
      --bg:#0b1226; --bg2:#0a0f22; --card:rgba(17,24,39,.92);
      --ink:#e5e7eb; --muted:#9ca3af; --line:#1f2937;
      --blue:#3b82f6; --cyan:#06b6d4; --rose:#ec4899; --amber:#f59e0b; --emerald:#22c55e; --violet:#8b5cf6; --pink:#db2777;
    }
    html,body{height:100%}
    body{font-family:'Inter',sans-serif; background:linear-gradient(180deg,var(--bg),var(--bg2)); color:var(--ink)}
    .card{background:var(--card); border:1px solid var(--line); border-radius:1.25rem; box-shadow:0 8px 30px rgba(0,0,0,.35); margin-bottom:1.25rem}
    .hdr{cursor:pointer; padding:1rem 1.25rem; display:flex; align-items:center; justify-content:space-between; border-radius:1.25rem}
    .hdr:hover{background:#0f172a}
    .cnt{max-height:0; overflow:hidden; transition:max-height .5s ease, padding .5s ease; padding:0 1.25rem}
    .cnt.open{max-height:70vh; overflow:auto; padding-bottom:1.25rem}
    @media (max-width: 767px){.cnt.open{max-height:60vh}}
    @media (min-width: 1024px){.cnt.open{max-height:80vh}}
    .icon{transition:transform .3s ease; color:#94a3b8}
    .icon.open{transform:rotate(180deg)}
    .box{background:#0b1226; border-left:4px solid var(--blue); border-radius:.9rem; padding:1rem; margin-top:1rem; border:1px solid #243042}
    .q{background:#0b1226; border:1px solid #243042; border-radius:.9rem; padding:1rem; margin:1rem 0}
    .btn{padding:.7rem 1.25rem; color:#0b1226; font-weight:800; border-radius:.75rem; transition: all .2s ease; background:var(--blue)}
    .btn:hover{transform: translateY(-1px); box-shadow:0 8px 24px rgba(59,130,246,.35)}
    .btn.alt{background:var(--emerald); color:#0b1226}
    .ok{display:none; margin-top:.6rem; padding:.6rem .9rem; border-radius:.6rem; font-weight:700; font-size:.95rem}
    .ok.good{display:block; background-color:#16a34a22; color:#22c55e}
    .ok.bad{display:block; background-color:#ef444422; color:#ef4444}
    .tbl{width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:.75rem; border:1px solid #243042; margin-top:.75rem}
    .tbl th,.tbl td{padding:.75rem 1rem; border-bottom:1px solid #243042}
    .tbl tr:last-child td {border-bottom: none;}
    .tbl th{background:#0f172a; text-align:left; color:#e5e7eb; font-weight:600}
    .tbl td.icon::before{content:"🔹 "}
    .hint{font-size:.9rem; color:#9ca3af}
    .pill{font-size:.75rem; font-weight:700; padding:.2rem .6rem; border-radius:999px; border:1px solid #243042; background:#0b1226; color:#e5e7eb}
    .title-gradient{background:linear-gradient(90deg,#60a5fa,#22d3ee,#a78bfa); -webkit-background-clip:text; background-clip:text; color:transparent; animation:gradient-move 8s ease infinite; background-size:300% 300%}
    @keyframes gradient-move{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .sticky-nav{position:sticky;top:0;z-index:50;background:#0b1226cc;backdrop-filter:blur(6px);padding:.5rem 1rem;border-bottom:1px solid #243042;display:flex;flex-wrap:wrap;justify-content:center;gap:.6rem}
    .sticky-nav a{margin:0 .2rem; font-weight:800; transition:.2s}
    .sticky-nav a:nth-child(1){color:var(--blue)}
    .sticky-nav a:nth-child(2){color:var(--cyan)}
    .sticky-nav a:nth-child(3){color:var(--amber)}
    .sticky-nav a:nth-child(4){color:var(--emerald)}
    .sticky-nav a:nth-child(5){color:var(--violet)}
    .sticky-nav a:nth-child(6){color:var(--pink)}
    .sticky-nav a:nth-child(7){color:var(--rose)}
    .sticky-nav a:nth-child(8){color:var(--cyan)}
    .sticky-nav a:nth-child(9){color:var(--emerald)}
    .sticky-nav a:nth-child(10){color:var(--blue)}
    .sticky-nav a:hover{filter:brightness(1.25)}
    /* Couleurs des titres */
    .hdr[data-color="blue"] h2{color:var(--blue)}
    .hdr[data-color="cyan"] h2{color:var(--cyan)}
    .hdr[data-color="amber"] h2{color:var(--amber)}
    .hdr[data-color="emerald"] h2{color:var(--emerald)}
    .hdr[data-color="violet"] h2{color:var(--violet)}
    .hdr[data-color="rose"] h2{color:var(--rose)}
    .hdr[data-color="pink"] h2{color:var(--pink)}
    /* Impression */
    @media print{
      .sticky, nav, .hdr{box-shadow:none}
      .hdr{background:transparent}
      .cnt{max-height:none !important; overflow:visible !important; padding:0 0 .5rem 0}
      .icon{display:none}
      a[href]::after{content:""}
    }
  </style>
</head>
<body class="antialiased">

  <!-- Sommaire sticky -->
  <nav class="sticky-nav">
    <a href="#intro">🧭 Intro</a>
    <a href="#notion">📘 Notion</a>
    <a href="#interets">⚖️ Intérêts & limites</a>
    <a href="#preparer">🧰 Préparer</a>
    <a href="#demarche">🧭 Démarche</a>
    <a href="#outils">🛠️ Outils</a>
    <a href="#test">🎯 Test final</a>
    <a href="#essentiel">⭐ Essentiel</a>
    <a href="#auto">📝 Auto‑évaluation</a>
    <a href="#piece">📎 Pièce jointe</a>
  </nav>

  <div class="max-w-6xl mx-auto p-4 md:p-8">

    <header class="text-center mb-8">
      <h1 class="text-3xl md:text-5xl font-extrabold title-gradient">✨ Paie_B3_M1_002 — La démarche de veille ✨</h1>
      <p class="mt-3 text-lg text-slate-300">Mode <strong>sombre bleu premium</strong>, synthèse structurée du module, outils interactifs (alertes & sourcing) et <strong>QCM final avec barème</strong>.</p>
      <div class="mt-3 flex flex-wrap gap-2 justify-center">
        <span class="pill">🧭 Notion & objectifs</span><span class="pill">🛡️ Limites & biais</span><span class="pill">🧰 Préparer sa veille</span><span class="pill">📣 Collecte → Analyse → Diffusion</span>
      </div>
      <div class="mt-4"><button class="btn alt" onclick="window.print()">🖨️ Imprimer / Export PDF</button></div>
    </header>

    <!-- Intro -->
    <section id="intro" class="card">
      <div class="hdr" data-color="blue" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">🧭</span><h2 class="text-xl font-semibold">Introduction & objectifs</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4">
          <div class="box" style="border-left-color:var(--cyan)">
            <h3 class="font-bold" style="color:var(--cyan)">🎯 Objectifs pédagogiques</h3>
            <ul class="list-disc list-inside text-slate-300 space-y-1 mt-2">
              <li>Comprendre la <strong>notion de veille</strong> et ses finalités (anticipation, décision).</li>
              <li>Préparer un <strong>système de veille</strong> (objectifs, mots‑clés, sources).</li>
              <li>Appliquer la <strong>démarche de veille</strong> : Collecte → Analyse → Diffusion.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- I - Notion de veille -->
    <section id="notion" class="card">
      <div class="hdr" data-color="cyan" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">📘</span><h2 class="text-xl font-semibold">I — Notion de veille</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300 space-y-2">
          <ul class="list-disc list-inside">
            <li>Activité <strong>continue et itérative</strong> de <em>surveillance active</em> de l’environnement.</li>
            <li>Veille ≠ recherche ponctuelle — elles sont <strong>complémentaires</strong>.</li>
            <li>Finalité : <strong>aider la décision</strong> et <strong>anticiper</strong>.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- III - Intérêts & limites -->
    <section id="interets" class="card">
      <div class="hdr" data-color="amber" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">⚖️</span><h2 class="text-xl font-semibold">III — Intérêts & limites</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300 space-y-2">
          <ul class="list-disc list-inside">
            <li><strong>Atouts</strong> : employabilité, décision, innovation, e‑réputation, satisfaction client.</li>
            <li><strong>Limites/risques</strong> : temps, infobésité, biais de représentativité, bulles algorithmiques.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- V - Préparer un système de veille -->
    <section id="preparer" class="card">
      <div class="hdr" data-color="emerald" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">🧰</span><h2 class="text-xl font-semibold">V — Préparer un système de veille</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300 space-y-2">
          <ul class="list-disc list-inside">
            <li>Définir <strong>objectifs</strong> (QQOQCCP), périmètre et <strong>mots‑clés</strong>.</li>
            <li>Identifier les <strong>sources</strong> (formalisées / informelles), consigner et évaluer.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- VII - Démarche de veille -->
    <section id="demarche" class="card">
      <div class="hdr" data-color="violet" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">🧭</span><h2 class="text-xl font-semibold">VII — Démarche de veille</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300 space-y-2">
          <ul class="list-disc list-inside">
            <li><strong>Collecte</strong> : Pull (requêtes, opérateurs) & Push (alertes, RSS).</li>
            <li><strong>Analyse</strong> : qualité des sources, pertinence, classement en base (éviter les simples favoris).</li>
            <li><strong>Diffusion</strong> : pull (publier) / push (partager), curation (ex. Scoop.it).</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Outils interactifs -->
    <section id="outils" class="card">
      <div class="hdr" data-color="pink" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">🛠️</span><h2 class="text-xl font-semibold">Outils de veille</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 grid md:grid-cols-2 gap-4">
          <!-- Générateur d'alertes (mock) -->
          <div class="box" style="border-left-color:var(--cyan)">
            <h3 class="font-bold" style="color:var(--cyan)">🔔 Générateur d’alertes (mock)</h3>
            <div class="grid grid-cols-2 gap-2 text-sm mt-2">
              <label>Mot‑clé<input id="al-key" class="w-full rounded-md p-1" placeholder="ex. SMIC, congés payés"></label>
              <label>Fréquence<select id="al-freq" class="w-full rounded-md p-1"><option>Quotidienne</option><option>Hebdomadaire</option><option>Mensuelle</option></select></label>
              <label class="col-span-2">Sources
                <div class="mt-1 space-x-2">
                  <label><input type="checkbox" class="mr-1" value="Légifrance" checked> Légifrance</label>
                  <label><input type="checkbox" class="mr-1" value="Service‑Public.fr"> Service‑Public.fr</label>
                  <label><input type="checkbox" class="mr-1" value="URSSAF"> URSSAF</label>
                  <label><input type="checkbox" class="mr-1" value="Blogs RH"> Blogs RH</label>
                </div>
              </label>
            </div>
            <button class="btn mt-2" onclick="genAlert()">Générer l’aperçu</button>
            <div id="out-alert" class="ok mt-2" style="display:none"></div>
          </div>
          <!-- Checklist sourcing -->
          <div class="box" style="border-left-color:var(--emerald)">
            <h3 class="font-bold" style="color:var(--emerald)">📚 Checklist sourcing</h3>
            <div class="grid grid-cols-3 gap-2 text-sm mt-2">
              <label>Type<select id="sc-type" class="w-full rounded-md p-1"><option>Formalisée</option><option>Informelle</option></select></label>
              <label>Nom<input id="sc-name" class="w-full rounded-md p-1" placeholder="ex. Légifrance"></label>
              <label>URL<input id="sc-url" class="w-full rounded-md p-1" placeholder="https://..."></label>
              <label class="col-span-3">Commentaire<input id="sc-note" class="w-full rounded-md p-1" placeholder="Pertinence, fréquence, auteur..."></label>
            </div>
            <button class="btn mt-2" onclick="addSource()">Ajouter</button>
            <div id="out-sources" class="ok mt-2" style="display:none"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Test final (QCM + barème) -->
    <section id="test" class="card">
      <div class="hdr" data-color="rose" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">🎯</span><h2 class="text-xl font-semibold">Test final — QCM + barème</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300">
          <div class="q">
            <p class="font-semibold">Q1. La veille est… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t1" value="a"> Une activité continue et itérative de surveillance active</label>
            <label class="block mt-1"><input type="radio" name="t1" value="b"> Une recherche ponctuelle d’information</label>
            <label class="block mt-1"><input type="radio" name="t1" value="c"> Un suivi exclusif des réseaux sociaux</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q2. La veille permet… (plusieurs réponses, 1 pt si A et B uniquement)</p>
            <label class="block mt-1"><input type="checkbox" name="t2" value="A"> A. D’anticiper opportunités/menaces</label>
            <label class="block mt-1"><input type="checkbox" name="t2" value="B"> B. D’aider la décision</label>
            <label class="block mt-1"><input type="checkbox" name="t2" value="C"> C. D’alimenter les concurrents</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q3. Un flux RSS sert à… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t3" value="a"> Archiver des favoris</label>
            <label class="block mt-1"><input type="radio" name="t3" value="b"> Suivre automatiquement les mises à jour d’un site</label>
            <label class="block mt-1"><input type="radio" name="t3" value="c"> Écrire des articles de blog</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q4. Risque des favoris pour classer l’info ? (réponse libre, 1 pt)</p>
            <textarea id="t4" rows="2" class="w-full rounded-md p-2 mt-2" placeholder="Ex. seule l’URL est conservée, contenu non sauvegardé, liens périssables…"></textarea>
          </div>
          <div class="q">
            <p class="font-semibold">Q5. L’opérateur booléen qui <em>réduit</em> les résultats est… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t5" value="a"> OU</label>
            <label class="block mt-1"><input type="radio" name="t5" value="b"> ET</label>
            <label class="block mt-1"><input type="radio" name="t5" value="c"> SAUF (−)</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q6. Une base de connaissance (notes) sert à… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t6" value="a"> Remplacer le paramétrage paie</label>
            <label class="block mt-1"><input type="radio" name="t6" value="b"> Classer/annoter l’info pour la retrouver et la diffuser</label>
            <label class="block mt-1"><input type="radio" name="t6" value="c"> Éviter toute source externe</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q7. La curation (ex. Scoop.it) consiste à… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t7" value="a"> Produire du code</label>
            <label class="block mt-1"><input type="radio" name="t7" value="b"> Sélectionner et partager des contenus pertinents</label>
            <label class="block mt-1"><input type="radio" name="t7" value="c"> Faire de la publicité payante</label>
          </div>
          <div class="q">
            <p class="font-semibold">Q8. La veille doit être… (1 pt)</p>
            <label class="block mt-1"><input type="radio" name="t8" value="a"> Non planifiée</label>
            <label class="block mt-1"><input type="radio" name="t8" value="b"> Planifiée dans la gestion du temps</label>
            <label class="block mt-1"><input type="radio" name="t8" value="c"> Réservée aux managers</label>
          </div>
          <div class="flex items-center gap-3 mt-4">
            <button class="btn" onclick="gradeTest()">🧮 Calculer la note</button>
            <span id="test-score" class="pill"></span>
          </div>
          <p id="test-fb" class="ok mt-2" style="display:none"></p>
        </div>
      </div>
    </section>

    <!-- IX - Essentiel & X - Auto-évaluation -->
    <section id="essentiel" class="card">
      <div class="hdr" data-color="cyan" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">⭐</span><h2 class="text-xl font-semibold">IX — Essentiel</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300">
          <ul class="list-disc list-inside">
            <li>Réflexion → organisation → outils → itérations.</li>
            <li>Veille <strong>participative</strong> possible avec règles et supervision.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="auto" class="card">
      <div class="hdr" data-color="emerald" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">📝</span><h2 class="text-xl font-semibold">X — Auto‑évaluation (score global)</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4 text-slate-300">
          <p class="text-sm text-slate-400 mb-2">Valide le test final puis exporte en PDF si besoin.</p>
          <button class="btn alt" onclick="window.print()">🖨️ Imprimer / Export PDF</button>
        </div>
      </div>
    </section>

    <!-- Pièce jointe (lien cliquable) -->
    <section id="piece" class="card">
      <div class="hdr" data-color="emerald" onclick="toggle(this)">
        <div class="flex items-center gap-3"><span class="text-2xl">📎</span><h2 class="text-xl font-semibold">Pièce jointe</h2></div>
        <svg class="icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div class="cnt">
        <div class="pt-4">
          <div class="box" style="border-left-color:var(--emerald)">
            <h3 class="font-bold" style="color:var(--emerald)">🔗 Accéder au document du module</h3>
            <p class="text-slate-300">Clique ci‑dessous pour ouvrir la ressource <em>Paie_B3_M1_002_La démarche de veille</em>.</p>
            <a class="btn mt-2 inline-block" target="_blank" rel="noopener" href="https://drive.google.com/file/d/1HqytEFMoBU26sCExE1ogu1xNAVRpy4zH/view?usp=drive_link">📂 Ouvrir la pièce jointe</a>
            <p class="hint mt-2">Le lien s’ouvre dans un nouvel onglet.</p>
          </div>
        </div>
      </div>
    </section>

  </div>

  <script>
    function toggle(h){
      const c=h.nextElementSibling; const i=h.querySelector('.icon');
      const isOpen = c.classList.contains('open');
      if(!isOpen){ c.classList.add('open'); i.classList.add('open'); c.scrollTop=0; }
      else { c.classList.remove('open'); i.classList.remove('open'); }
    }

    // Outils — Générateur d'alertes (mock)
    function genAlert(){
      const key=(document.getElementById('al-key').value||'veille RH').trim();
      const freq=document.getElementById('al-freq').value;
      const sources=[...document.querySelectorAll('#outils input[type=checkbox]:checked')].map(c=>c.value);
      const examples=[
        `Nouvel article sur ${key} — Service‑Public.fr (il y a 2 jours)`,
        `Mise à jour ${key} — Légifrance (JO)`,
        `Analyse experte: ${key} — URSSAF`
      ];
      const el=document.getElementById('out-alert');
      el.style.display='block'; el.className='ok good';
      el.innerHTML=`Alerte <strong>${freq.toLowerCase()}</strong> • Sources: <em>${sources.join(', ')||'—'}</em><br>`+
        '<ul class="list-disc list-inside mt-1">'+examples.map(e=>`<li>${e}</li>`).join('')+'</ul>';
    }

    // Outils — Checklist sourcing
    const __sources=[];
    function addSource(){
      const type=document.getElementById('sc-type').value;
      const name=(document.getElementById('sc-name').value||'Source').trim();
      const url=(document.getElementById('sc-url').value||'').trim();
      const note=(document.getElementById('sc-note').value||'').trim();
      __sources.push({type,name,url,note});
      const rows=__sources.map(s=>`<tr><td>${s.type}</td><td>${s.name}</td><td>${s.url?`<a href="${s.url}" target="_blank" rel="noopener">${s.url}</a>`:''}</td><td>${s.note}</td></tr>`).join('');
      const el=document.getElementById('out-sources');
      el.style.display='block'; el.className='ok good';
      el.innerHTML='<table class="tbl text-sm"><thead><tr><th>Type</th><th>Nom</th><th>URL</th><th>Commentaire</th></tr></thead><tbody>'+rows+'</tbody></table>';
    }

    // Test final — barème 8 pts
    function gradeTest(){
      let score=0; let notes=[];
      const pick=(n)=>[...document.getElementsByName(n)].find(r=>r.checked)?.value;
      const pickMulti=(n)=>[...document.getElementsByName(n)].filter(r=>r.checked).map(r=>r.value).sort().join('');
      if(pick('t1')==='a'){score++;} else notes.push('Q1');
      if(pickMulti('t2')==='AB'){score++;} else notes.push('Q2');
      if(pick('t3')==='b'){score++;} else notes.push('Q3');
      const t4=(document.getElementById('t4').value||'').toLowerCase();
      const ok4=['url','favori','dispar','supprim','perdu','contenu','sauveg'].some(k=>t4.includes(k));
      if(ok4){score++;} else notes.push('Q4');
      if(pick('t5')==='b'){score++;} else notes.push('Q5');
      if(pick('t6')==='b'){score++;} else notes.push('Q6');
      if(pick('t7')==='b'){score++;} else notes.push('Q7');
      if(pick('t8')==='b'){score++;} else notes.push('Q8');
      const pct=Math.round(score/8*100);
      const badge = score>=8? '🏆 Parfait' : score>=6? '👏 Très bien' : score>=4? '💪 Correct' : '📘 À retravailler';
      document.getElementById('test-score').textContent = `Note : ${score}/8 (${pct}%)`;
      const fb=document.getElementById('test-fb');
      fb.style.display='block'; fb.className='ok '+(score>=4?'good':'bad');
      fb.textContent = (notes.length&&score<8? 'À revoir : '+notes.join(', ')+' • ': '') + badge;
    }
  </script>
</body>
</html>
